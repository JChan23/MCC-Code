#V1 code is too inefficient and fails when given larger data inputs

from itertools import combinations

k = 200
comb = 0
subsets = []
total = 0
grandtotal = 0
file = open("text.txt", "r") #requires external file with data
contents = file.read()
file.close()
array = contents.split(" ")
array = [eval(i) for i in array]

for i in range(len(array)):
    comb = combinations(array, i+1)
    for i in list(comb):
        subsets.append(list(i))


for row in range(len(subsets)):
    total = 0
    for column in range(0, len(subsets[row])):
        total = total + subsets[row][column]
    grandtotal = grandtotal + total**k

print(grandtotal%998244353)

#External file exmaple:
#979779846 296049560 455399315 132935376 180319976 733129204 981949575 217073956 380355578 594547375 220256843 86453441 853188540 402163803 454917482 716430633 910768227 425032791 64827021 588098739 9508353 898448578 299178262 127393041 469037693 638505349 815011261 28773570 571854632 278784497 910398914 439947471 757629978 390387859 756022740 38839653 719066073 923600268 264474956 604128671 805481125 665060230 75460081 308321123 640030648 37978842 596570193 581825228 130169654 858025255 283692674 833304945 41361101 688913323 44859203 478724736 510117758 903688736 689939400 507909715 718676822 891561268 898787371 143773492 359188502 163086462 450794913 484843097 961414734 643571973 494542798 761918378 498148648 126571168 975492889 589486955 596676340 776698113 796838503 505033876 304389200 471470202 190830070 173788314 500771737 810651823 338929598 680409255 575783842 844947910 726705395 879498002 614802234 186203917 939556234 549250504 91973919 233519397 457278586 691611566 920553743 761462417 742001221 750856790 306979098 123255939 17854938 767028111 495935487 944481981 8733052 311284568 690068416 16906742 353035354 105711139 654818441 149236863 215959893 322202069 928725606 498675774 858735606 342765635 770784999 989105808 373231774 177274743 268662602 808580532 156863639 617556540 443907922 945124267 834944635 571329393 275937642 184563602 569540477 747970373 596335939 160388005 60403701 607832726 354971995 515451360 600252912 195489171 381557756 782793843 68099247 635322498 115508164 363434415 732088662 801628471 690780052 941955416 272055335 690182345 494676843 398513503 691919848 727446763 294742262 738500285 954773378 342921364 381374511 987789854 943345361 692395825 388127936 95840999 747483183 146379324 939999385 912829798 218383564 98817539 857539822 630481195 481731463 86275437 475315894 46401064 477618989 151757193 141935410 898025959 982325492 983247813 446296014 428568833 298486282 559459547 605140143 90560945 197298846 87771561
